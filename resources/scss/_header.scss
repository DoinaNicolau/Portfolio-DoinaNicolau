.main-header {
    padding: 20px 0;
    position: fixed; // La rende "sticky"
    width: 100%;
    top: 0;
    left: 0;
    z-index: 1000; // Si assicura che sia sempre sopra gli altri elementi
    background-color: rgba($dark-bg, 0.8); // Sfondo scuro semi-trasparente
    backdrop-filter: blur(10px); // Effetto "vetro smerigliato", molto moderno
    border-bottom: 1px solid lighten($dark-bg, 15%);
}

.main-nav {
    display: flex;
    justify-content: space-between; // Spinge il logo a sx e il menu a dx
    align-items: center;
}

.nav-logo {
    font-family: $font-display;
    font-size: 1.5rem;
    color: white;
    text-decoration: none;
}

.nav-menu {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    align-items: center;
    gap: 30px; // Spazio tra le voci del menu

    a {
        color: $text-light;
        text-decoration: none;
        font-size: 1rem;
        transition: color 0.3s ease;

        &:hover {
            color: $neon-pink;
        }
    }

    // Per il pulsante nel menu, riduciamo un po' il padding
    .btn {
        padding: 8px 16px;
    }
}

// Stili per il pulsante hamburger (nascosto di default)
.mobile-nav-toggle {
    display: none; // Nascosto su desktop
    // Stili per l'icona (creiamo l'hamburger con CSS)
    background: transparent;
    border: 0;
    width: 2rem;
    aspect-ratio: 1;
    cursor: pointer;

    // Stile per le tre linee dell'hamburger
    &::before,
    &::after,
    span {
        content: '';
        display: block;
        width: 100%;
        height: 2px;
        background: white;
        position: relative;
        transition: transform 0.3s ease-out, opacity 0.1s ease-out;
    }

    &::before { transform: translateY(-6px); }
    &::after { transform: translateY(4px); }
}

// Media Query per schermi piccoli (es. sotto 768px)
@media (max-width: 768px) {
    // Il menu di navigazione diventa un blocco posizionato
    .nav-menu {
        position: fixed;
        inset: 0 0 0 30%; // Occupa il 70% destro dello schermo
        display: flex;
        flex-direction: column;
        justify-content: center; 
        align-items: center;
        padding: min(20vh, 10rem) 2em;
        gap: 2em;
        background: rgba($dark-bg, 0.95);
        backdrop-filter: blur(10px);

        // Nascosto di default su mobile
        transform: translateX(100%);
        transition: transform 350ms ease-out;

        // Quando il menu è aperto (aggiungeremo questa classe con JS)
        &.active {
            transform: translateX(0%);
        }
    }

    // Mostra il pulsante hamburger su mobile
    .mobile-nav-toggle {
        display: block;
        z-index: 2000; // Si assicura che sia sopra il menu
        position: relative;
    }
    
    // Animazione per trasformare l'hamburger in una "X" quando il menu è aperto
    .mobile-nav-toggle[aria-expanded="true"] {
        span { opacity: 0; } // La linea centrale sparisce
        &::before { transform: rotate(45deg); }
        &::after { transform: rotate(-45deg) translateY(-2px); }
    }
}